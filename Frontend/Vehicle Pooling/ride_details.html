<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>CamBuzz - Vehicle Pooling</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

  <!-- datetimepicker jQuery CDN -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-datetimepicker/2.5.20/jquery.datetimepicker.full.min.js"></script>

<script>
  $(document).on('click', '.number-spinner button', function () {    
	var btn = $(this),
		oldValue = btn.closest('.number-spinner').find('input').val().trim(),
		newVal = 0;
    var limitVal = 3; // Add the number limit to be applied in the spinner
	
	if (btn.attr('data-dir') == 'up') {
		newVal = parseInt(oldValue) + 1;
	} else {
		if (oldValue > 1) {
			newVal = parseInt(oldValue) - 1;
		} else {
			newVal = 1;
		}
	}
  if (newVal > limitVal) newVal = limitVal;
	btn.closest('.number-spinner').find('input').val(newVal);
});
</script>
</head>

<body>
  <div id="navbar-placeholder"></div>

  <div class="container-lg" style="margin-top: 50px;">
    <div>
      <label>Kochi > Bangalore | Today | 1 person</label>
    </div>
    <div class="card">
      <div>
        <div>
          <ul style="list-style: none;">
            <li>
              <div style="display: flex; min-height: 60px;">
                <div style="display: flex; flex-direction: column; width: 60px;">
                  <time>06:00</time>
                </div>
                <div aria-hidden="true"
                  style="position: relative; display: flex; flex-direction: column; min-height: 30px; align-items: center; margin-left: 10px; flex-shrink: 0;">
                  <div style="width: 4px; height: calc(13px); background: transparent;"></div>
                  <div style="position: absolute; top: 10px; left: 50%; transform: translateX(-50%);">
                    <div
                      style="box-sizing: border-box; width: 10px; height: 10px;background-color: white; border: 2px solid blue; border-radius: 5px;">
                    </div>
                  </div>
                  <div style="width: 4px; height: calc(13px); background: blue; height:100%;"></div>
                </div>
                <div style="position: relative; flex: 1 1 0%; padding: 5px 0 0 10px;">
                  <span>Kochi</span>
                </div>
              </div>
              <div style="display: flex;">
                <div style="display: flex; flex-direction: column; width: 60px; padding-top: 5px;">
                  <time>14:00</time>
                </div>
                <div aria-hidden="true"
                  style="position: relative; display: flex; flex-direction: column; min-height: 30px; align-items: center; margin-left: 10px; flex-shrink: 0;">
                  <div style="width: 4px; height: calc(13px); background: blue;"></div>
                  <div style="position: absolute; top: 12px; left: 50%; transform: translateX(-50%);">
                    <div
                      style="box-sizing: border-box; width: 10px; height: 10px;background-color: white; border: 2px solid blue; border-radius: 5px;">
                    </div>
                  </div>
                  <div style="width: 4px; height: calc(13px); background: transparent;"></div>

                </div>
                <div style="position: relative; flex: 1 1 0%; padding: 5px 0 0 10px;">
                  <span>Bengaluru</span>
                </div>
              </div>
            </li>
          </ul>
        </div>
      </div>
      <div style="margin-left: 30px;">
        <div class="container">
          <div class="row">
            <div class="col-3">Name</div>
            <div class="col-6">Mathews</div>
            <div class="col-3"><a href="#"><img src="./img/blank_profile_pic.jpg" height="100" class="rounded-circle"
                  alt="..."></a></div>
          </div>
          <div class="row">
            <div class="col-3">From</div>
            <div class="col-4">Kochi</div>
            <div class="col-5">06:00</div>
          </div>
          <div class="row">
            <div class="col-3">To</div>
            <div class="col-4">Bengaluru</div>
            <div class="col-5">14:00</div>
          </div>
          <div class="row">
            <div class="col-3">Number of seats available</div>
            <div class="col-9">XX</div>
          </div>
          <div class="row">
            <div class="col-3">Vehicle Type</div>
            <div class="col-9">Car</div>
          </div>
          <div class="row">
            <div class="col-3">Vehicle Name</div>
            <div class="col-9">KIA</div>
          </div>
          <div class="row">
            <div class="col-3">Vehicle Number</div>
            <div class="col-9">XXX</div>
          </div>
          <div class="row">
            <div class="col-3">Price</div>
            <div class="col-9">$$</div>
          </div>
          <div class="row">
            <div class="col-3">Description</div>
            <div class="col-9">These are my conditions</div>
          </div>
          <div class="row">
            <div class="col-3"></div>
            <div class="col-9">
              <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#bookRide">Book
                Ride</button>
              <!-- Modal -->
              <div class="modal fade" id="bookRide" tabindex="-1" aria-labelledby="bookRideLabel"
                aria-hidden="true">
                <div class="modal-dialog">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h5 class="modal-title" id="exampleModalLabel">Book Ride</h5>
                      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                      <div class="container">
                        <div class="row">
                          <div class="col">Select number of seats</div>
                          <div class="col">
                            <div class="input-group number-spinner">
                              <span class="input-group-btn">
                                <button class="btn btn-default" data-dir="dwn"><span class="glyphicon glyphicon-minus">-</span></button>
                              </span>
                              <input type="text" class="form-control text-center" value="1">
                              <span class="input-group-btn">
                                <button class="btn btn-default" data-dir="up"><span class="glyphicon glyphicon-plus" aria-hidden="true">+</span></button>
                              </span>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                      <button type="button" class="btn btn-primary">Book</button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    </a>
  </div>


  <script>
    $(function () {
      $('#navbar-placeholder').load('/Frontend/navbar.html', function () {
        // Retrieve user information from local storage
        const loggedInUser = JSON.parse(localStorage.getItem('loggedInUser'));

        if (loggedInUser) {
          // Call the function to update dynamic features
          updateDynamicFeatures(loggedInUser);
        }
      });
    });
  </script>

</body>

</html>